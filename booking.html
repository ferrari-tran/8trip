<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->

		<title>Đặt chỗ</title>

		<!-- Styles -->
		<link rel="stylesheet" href="./vendor/bootstrap/bootstrap.min.css">
		<link rel="stylesheet" href="./vendor/jquery-ui/jquery-ui.min.css">
		<link rel="stylesheet" href="./vendor/owl-carousel/assets/owl.carousel.min.css">
		<link rel="stylesheet" href="./vendor/owl-carousel/assets/owl.theme.default.min.css">
		<link rel="stylesheet" href="css/style.min.css">

		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		
		<div class="wrapper">
			<div class="container">
				<div class="row">
					<div class="col-xs-8">
						<div class="alert alert-warning alert-dismissible et-area-alert" role="alert">
						  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						  Bạn vui lòng <a href="#" class="et-link-dark">Đăng nhập</a> để lấy thông tin hành khách hoặc điền vào form dưới đây. Nếu bạn chưa có tài khoản, đăng ký tại <a href="#" class="et-link-dark">đây</a>.
						</div>
						<!-- End .et-area-alert -->


						<section class="et-area-booking">
							<h4 class="et-text-heading-1">Thông tin hành khách</h4>
							<div class="et-panel et-panel-large et-panel-highlight-1">
								<p>Giới thiệu đôi 3 dòng về phần này. Hoặc cũng có thể là đoạn hướng dẫn điền thông tin chi tiết chẳng hạn. Viết thế nào cho đủ 2-3 dòng là đẹp.</p>

								<form class="et-form">
									<article class="et-form-group">
										<h5 class="et-title-style-2">
											<span>Người liên hệ</span>
											<span class="et-sub-icon"><img src="images/ic_user.svg" alt="icon"></span>
										</h5>
										<div class="et-block et-block-large">
											<div class="row">
												<div class="col-xs-6">
													<div class="form-group">
														<label class="et-form-label">Họ và tên:</label>
														<input type="text" class="form-control" />
													</div>
													<div class="form-group mb-0">
														<label class="et-form-label">Email:</label>
														<input type="email" class="form-control"/>
													</div>
												</div>
												<div class="col-xs-6">
													<div class="form-group">
														<label class="et-form-label">Số điện thoại:</label>
														<input type="text" class="form-control" />
													</div>
												</div>
											</div>
										</div>
									</article>
									<article class="et-form-group">
										<h5 class="et-title-style-2">
											<span>Hành khách</span>
											<span class="et-sub-icon"><img src="images/ic_user.svg" alt="icon"></span>
										</h5>
										
										<div class="et-form-group-part">
											<p class="et-type-client">Người lớn 1</p>
											<div class="et-block et-block-large">
												<div class="row">

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Họ và tên:</label>
															<input type="text" class="form-control" />
														</div>
														<div class="row">
															<div class="col-xs-7">
																<div class="form-group">
																	<label class="et-form-label">Số điện thoại:</label>
																	<input type="text" class="form-control" />
																</div>
															</div>
															<div class="col-xs-5">
																<div class="form-group">
																	<label class="et-form-label">Giới tính:</label>
																	<select class="form-control">
																		<option value="Nam">Nam</option>
																		<option value="Nữ">Nữ</option>
																		<option value="Khác">Khác</option>
																	</select>
																</div>
															</div>
														</div>
													</div>

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Hành lý ký gửi lượt đi (HAN → SGN):</label>
															<select class="form-control" data-booking-type="value-input" data-type="start-direction">
																<option value="0">20kg - 0 VND</option>
															</select>
														</div>
														<div class="form-group">
															<label class="et-form-label">Hành lý ký gửi lượt về  (SGN → HAN):</label>
															<select class="form-control" data-booking-type="value-input" data-type="return-direction">
																<option value="0">0kg - 0 VND</option>
																<option value="154000">15kg - 154.000 VND</option>
																<option value="176000">20kg - 176.000 VND</option>
																<option value="242000">25kg - 242.000 VND</option>
															</select>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="et-form-group-part">
											<p class="et-type-client">Người lớn 2</p>
											<div class="et-block et-block-large">
												<div class="row">

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Họ và tên:</label>
															<input type="text" class="form-control" />
														</div>
														<div class="row">
															<div class="col-xs-7">
																<div class="form-group">
																	<label class="et-form-label">Số điện thoại:</label>
																	<input type="text" class="form-control" />
																</div>
															</div>
															<div class="col-xs-5">
																<div class="form-group">
																	<label class="et-form-label">Giới tính:</label>
																	<select class="form-control">
																		<option value="Nam">Nam</option>
																		<option value="Nữ">Nữ</option>
																		<option value="Khác">Khác</option>
																	</select>
																</div>
															</div>
														</div>
													</div>

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Hành lý ký gửi lượt đi (HAN → SGN):</label>
															<select class="form-control" data-booking-type="value-input" data-type="start-direction">
																<option value="20kg - 0 VND">20kg - 0 VND</option>
															</select>
														</div>
														<div class="form-group">
															<label class="et-form-label">Hành lý ký gửi lượt về  (SGN → HAN):</label>
															<select class="form-control" data-booking-type="value-input" data-type="return-direction">
																<option value="0">0kg - 0 VND</option>
																<option value="154000">15kg - 154.000 VND</option>
																<option value="176000">20kg - 176.000 VND</option>
																<option value="242.000">25kg - 242.000 VND</option>
															</select>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="et-form-group-part">
											<p class="et-type-client">Em bé</p>
											<div class="et-block et-block-large">
												<div class="row">

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Họ và tên:</label>
															<input type="text" class="form-control" />
														</div>
													</div>

													<div class="col-xs-6">
														<div class="form-group">
															<label class="et-form-label">Ngày sinh</label>
															<input 
																type="text" 
																class="form-control et-datepicker-only"
																placeholder="dd/mm/yyyy" 
															>
														</div>
													</div>
												</div>
											</div>
										</div>
									</article>

									<div class="et-normal-padding text-center">
										<button class="btn btn-accent">Đăng ký đặt vé</button>
									</div>
								</form>
							</div>
						</section>
					</div>
					<div class="col-xs-4">
						<div class="et-panel-primary et-panel-result-booking">
							<div class="et-panel-heading">
								<div class="et-flexbox et-justify-between">
									<div>
										<h5 class="et-text-heading-3">Chuyến bay đi</h5>
										<p class="small">Chủ nhật - 01/10/2017</p>
									</div>
									<div>
										<span class="et-text-heading-1" data-total="start-direction">0</span>
									</div>
								</div>
							</div>
							<div class="et-panel-body">
								<div class="et-group-booking-result">
									<table class="table table-no-border">
										<tbody>
											<tr>
												<td>
													<p class="et-normal-padding-x my-0">
														<img src="images/brand_vietjet.png" alt="VietJet" height="30">
													</p>
												</td>
												<td class="et-text-bold et-vertical-middle">
													<p class="et-small-padding-l my-0">
														VietJet Air (VJ-195)<br>
														<span class="et-text-caption">01/10/2017</span>
													</p>
												</td>
											</tr>
											<tr>
												<td colspan="2">
													<table class="table table-no-border et-table-detail-between et-timeline">
														<tbody>
															<tr>
																<td>
																	<div class="et-timeline-period">
																		<p class="et-text-heading-4">11:00</p>
																		<p class="et-text-caption">Chủ nhật - 01/10</p>
																	</div>
																</td>
																<td>
																	<p class="et-text-heading-4">Hà Nội (HAN)</p>
																	<p class="et-text-caption">Sân bay Nội Bài</p>
																</td>
															</tr>
															<tr>
																<td>
																	<div class="et-timeline-period">
																		<p class="et-text-heading-4">13:00</p>
																		<p class="et-text-caption">Chủ nhật - 08/10</p>
																	</div>
																</td>
																<td>
																	<p class="et-text-heading-4">Hồ Chí Minh (SGN)</p>
																	<p class="et-text-caption">Sân bay Tân Sơn Nhất</p>
																</td>
															</tr>
														</tbody>
													</table>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<!-- End panel -->

						<div class="et-panel-secondary et-panel-result-booking">
							<div class="et-panel-heading">
								<div class="et-flexbox et-justify-between">
									<div>
										<h5 class="et-text-heading-3">Chuyến bay về</h5>
										<p class="small">Chủ nhật - 08/10/2017</p>
									</div>
									<div>
										<span class="et-text-heading-1" data-total="return-direction">0</span>
									</div>
								</div>
							</div>
							<div class="et-panel-body">
								<div class="et-group-booking-result">
									<table class="table table-no-border">
										<tbody>
											<tr>
												<td>
													<p class="et-normal-padding-x my-0">
														<img src="images/brand_vietjet.png" alt="VietJet" height="30">
													</p>
												</td>
												<td class="et-text-bold et-vertical-middle">
													<p class="et-small-padding-l my-0">
														VietJet Air (VJ-195)<br>
														<span class="et-text-caption">01/10/2017</span>
													</p>
												</td>
											</tr>
											<tr>
												<td colspan="2">
													<table class="table table-no-border et-table-detail-between et-timeline">
														<tbody>
															<tr>
																<td>
																	<div class="et-timeline-period">
																		<p class="et-text-heading-4">11:00</p>
																		<p class="et-text-caption">Chủ nhật - 01/10</p>
																	</div>
																</td>
																<td>
																	<p class="et-text-heading-4">Hà Nội (HAN)</p>
																	<p class="et-text-caption">Sân bay Nội Bài</p>
																</td>
															</tr>
															<tr>
																<td>
																	<div class="et-timeline-period">
																		<p class="et-text-heading-4">13:00</p>
																		<p class="et-text-caption">Chủ nhật - 08/10</p>
																	</div>
																</td>
																<td>
																	<p class="et-text-heading-4">Hồ Chí Minh (SGN)</p>
																	<p class="et-text-caption">Sân bay Tân Sơn Nhất</p>
																</td>
															</tr>
														</tbody>
													</table>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<!-- End panel -->

						<div class="et-group-price-booking">
							<div class="et-flexbox et-justify-between et-align-center">
								<p class="et-text-heading-3 mb-0">Tổng giá vé 2 chiều:</p>
								<span class="et-price-bigger" data-total="round-trip">0</span>
							</div>
							<p class="et-text-caption">(Giá vé đã bao gồm thuế, phụ phí và hành lý ký gửi)</p>
						</div>
					</div>
				</div>

			</div>
		</div>


		<!-- Scripts -->
		<script src="./vendor/jquery/jquery-3.2.1.min.js"></script>
		<script src="./vendor/bootstrap/bootstrap.min.js"></script>
		<script src="./vendor/jquery-ui/jquery-ui.min.js"></script>
		<script src="./vendor/accounting/accounting.min.js"></script>
		<script src="./vendor/owl-carousel/owl.carousel.min.js"></script>
		<script src="./js/main.js"></script>

		<script>
			/**
			 * [renderPrice to html]
			 * @param  {number} [price] [Price of way direction]
			 * @param {object} [element] [where to render]
			 */
			function renderPrice(price, element) {
				console.log(typeof price);
				if (typeof price === 'number' && typeof element === 'object') {
					var money = accounting.formatMoney(price, {
						symbol: ' ₫',
						format: '%v %s',
						precision: 0,
						decimal: ',',
						thousand: '.'
					});
					if (money) {
						$(element).text(money);
					}
				} else {
					throw 'Wrong typeof price or element'
				}
			};

			$(document).ready(function() {
				var priceStartDirection = 5300000,
						priceReturnDirection = 4440000;

				// Render price to html when start
				renderPrice(priceReturnDirection, $('[data-total="return-direction"]'));
				renderPrice(priceStartDirection, $('[data-total="start-direction"]'));
				renderPrice(priceStartDirection + priceReturnDirection, $('[data-total="round-trip"]'));

				$('[data-booking-type]').on('change', function(e) {
					var price = parseInt(this.value),
							type = $(this).data('type');
					if (type === 'return-direction') {
						priceReturnDirection += price;
						setTimeout(function() {
							renderPrice(priceReturnDirection, $('[data-total="return-direction"]'));
						});
					} else if (type === 'start-direction') {
						priceStartDirection += price;
						setTimeout(function() {
							renderPrice(priceStartDirection, $('[data-total="start-direction"]'));
						});
					} else {
						throw 'Wrong type option'
					}
					renderPrice(priceStartDirection + priceReturnDirection, $('[data-total="round-trip"]'));
					return false;
				});
			});
		</script>

	</body>
</html>
